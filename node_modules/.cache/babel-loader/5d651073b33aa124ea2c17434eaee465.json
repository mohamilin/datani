{"ast":null,"code":"import Axios from 'axios';\nexport const REGISTER = \"REGISTER\";\nexport const LOGIN = \"REGISTER\";\nexport const SET_ERROR = \"SET_ERROR\";\nexport const setUserRegister = data => {\n  return {\n    type: REGISTER,\n    payload: data\n  };\n};\nexport const setUserLogin = data => {\n  return {\n    type: LOGIN,\n    payload: data\n  };\n};\nexport const setError = error => {\n  return {\n    type: SET_ERROR,\n    error\n  };\n};\nexport const setRegisterAction = (values, event, history) => dispatch => {\n  event.preventDefault();\n  return Axios.post('https://server-datani.herokuapp.com/add-user', values).then(response => {\n    console.log('data', response);\n    dispatch(setUserRegister(response.data.user));\n    localStorage.setItem(\"token\", response.data.token);\n    history.push('/login');\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const setLoginAction = (values, event, history) => {\n  return dispatch => {\n    event.preventDefault();\n    return Axios.post('https://server-datani.herokuapp.com/login', values).then(response => {\n      console.log('response', response);\n      console.log('detail res', response.data);\n      dispatch(setUserLogin(response.data));\n    }).catch(error => {\n      dispatch(setError(error));\n    });\n  };\n};","map":{"version":3,"sources":["/home/amilin/Documents/Project/datani-web-app/datani/src/redux/actions/user.actions.js"],"names":["Axios","REGISTER","LOGIN","SET_ERROR","setUserRegister","data","type","payload","setUserLogin","setError","error","setRegisterAction","values","event","history","dispatch","preventDefault","post","then","response","console","log","user","localStorage","setItem","token","push","catch","setLoginAction"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,KAAK,GAAG,UAAd;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AAGP,OAAO,MAAMC,eAAe,GAAIC,IAAD,IAAU;AACrC,SAAO;AACHC,IAAAA,IAAI,EAAGL,QADJ;AAEHM,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAIH,IAAD,IAAU;AAClC,SAAO;AACHC,IAAAA,IAAI,EAAEJ,KADH;AAEHK,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMI,QAAQ,GAAGC,KAAK,IAAI;AAC7B,SAAO;AACHJ,IAAAA,IAAI,EAAEH,SADH;AAEHO,IAAAA;AAFG,GAAP;AAIH,CALM;AAOP,OAAO,MAAMC,iBAAiB,GAAG,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,KAA6BC,QAAD,IAAe;AACxEF,EAAAA,KAAK,CAACG,cAAN;AACA,SAAOhB,KAAK,CACXiB,IADM,CACD,8CADC,EAC+CL,MAD/C,EAENM,IAFM,CAEAC,QAAD,IAAc;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,QAApB;AACAJ,IAAAA,QAAQ,CAACX,eAAe,CAACe,QAAQ,CAACd,IAAT,CAAciB,IAAf,CAAhB,CAAR;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,QAAQ,CAACd,IAAT,CAAcoB,KAA5C;AACAX,IAAAA,OAAO,CAACY,IAAR,CAAa,QAAb;AACH,GAPM,EAOJC,KAPI,CAOEjB,KAAK,IAAI;AACdU,IAAAA,OAAO,CAACC,GAAR,CAAYX,KAAZ;AACH,GATM,CAAP;AAUH,CAZM;AAcP,OAAO,MAAMkB,cAAc,GAAG,CAAChB,MAAD,EAASC,KAAT,EAAgBC,OAAhB,KAA4B;AACtD,SAAQC,QAAD,IAAc;AACjBF,IAAAA,KAAK,CAACG,cAAN;AACA,WAAOhB,KAAK,CACXiB,IADM,CACD,2CADC,EAC4CL,MAD5C,EAENM,IAFM,CAECC,QAAD,IAAc;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,QAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,QAAQ,CAACd,IAAnC;AACAU,MAAAA,QAAQ,CAACP,YAAY,CAACW,QAAQ,CAACd,IAAV,CAAb,CAAR;AACH,KANM,EAMJsB,KANI,CAMGjB,KAAD,IAAW;AAChBK,MAAAA,QAAQ,CAACN,QAAQ,CAACC,KAAD,CAAT,CAAR;AACH,KARM,CAAP;AASH,GAXD;AAYH,CAbM","sourcesContent":["import Axios from 'axios';\n\nexport const REGISTER = \"REGISTER\";\nexport const LOGIN = \"REGISTER\";\nexport const SET_ERROR = \"SET_ERROR\"\n\n\nexport const setUserRegister = (data) => {\n    return {\n        type : REGISTER,\n        payload: data,\n    }\n}\n\nexport const setUserLogin = (data) => {\n    return {\n        type: LOGIN,\n        payload: data,\n    }\n}\n\nexport const setError = error => {\n    return {\n        type: SET_ERROR,\n        error,\n    }\n}\n\nexport const setRegisterAction = (values, event, history) => (dispatch) =>  {\n    event.preventDefault();\n    return Axios\n    .post('https://server-datani.herokuapp.com/add-user', values)\n    .then((response) => {\n        console.log('data', response)\n        dispatch(setUserRegister(response.data.user))\n        localStorage.setItem(\"token\", response.data.token)\n        history.push('/login');\n    }).catch(error => {\n        console.log(error);\n    })\n}\n\nexport const setLoginAction = (values, event, history) => {\n    return (dispatch) => {\n        event.preventDefault();\n        return Axios\n        .post('https://server-datani.herokuapp.com/login', values)\n        .then ((response) => {\n            console.log('response', response)\n            console.log('detail res', response.data)\n            dispatch(setUserLogin(response.data))\n        }).catch((error) => {\n            dispatch(setError(error))\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}