{"ast":null,"code":"import Axios from 'axios';\nexport const REGISTER = \"REGISTER\";\nexport const LOGIN = \"REGISTER\";\nexport const setUserRegister = data => {\n  return {\n    type: REGISTER,\n    payload: data\n  };\n};\nexport const setUserLogin = data => {\n  return {\n    type: LOGIN,\n    payload: data\n  };\n};\nexport const setRegisterAction = (values, event, history) => dispatch => {\n  event.preventDefault();\n  return Axios.post('https://server-datani.herokuapp.com/add-user', values).then(response => {\n    console.log('data', response);\n    dispatch(setUserRegister(response.data.user));\n    history.push('/login');\n  }).catch(error => {\n    console.log(error);\n  });\n};\nexport const setLoginAction = (values, event, history) => {\n  return dispatch => {\n    event.preventDefault();\n    return Axios.post('https://server-datani.herokuapp.com/login', values, {\n      headers: {\n        \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(response => {\n      console.log('response', response);\n      console.log('detail res', response.data);\n      localStorage.setItem(\"token\", response.data.token);\n      console.log('success', values);\n    }).catch(err => {\n      return err;\n    });\n  };\n};","map":{"version":3,"sources":["/home/amilin/Documents/Project/datani-web-app/datani/src/redux/actions/user.actions.js"],"names":["Axios","REGISTER","LOGIN","setUserRegister","data","type","payload","setUserLogin","setRegisterAction","values","event","history","dispatch","preventDefault","post","then","response","console","log","user","push","catch","error","setLoginAction","headers","localStorage","getItem","setItem","token","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAG,UAAjB;AACP,OAAO,MAAMC,KAAK,GAAG,UAAd;AAGP,OAAO,MAAMC,eAAe,GAAIC,IAAD,IAAU;AACrC,SAAO;AACHC,IAAAA,IAAI,EAAGJ,QADJ;AAEHK,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMG,YAAY,GAAIH,IAAD,IAAU;AAClC,SAAO;AACHC,IAAAA,IAAI,EAAEH,KADH;AAEHI,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,MAAMI,iBAAiB,GAAG,CAACC,MAAD,EAASC,KAAT,EAAgBC,OAAhB,KAA6BC,QAAD,IAAe;AACxEF,EAAAA,KAAK,CAACG,cAAN;AACA,SAAOb,KAAK,CACXc,IADM,CACD,8CADC,EAC+CL,MAD/C,EAENM,IAFM,CAEAC,QAAD,IAAc;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBF,QAApB;AACAJ,IAAAA,QAAQ,CAACT,eAAe,CAACa,QAAQ,CAACZ,IAAT,CAAce,IAAf,CAAhB,CAAR;AACAR,IAAAA,OAAO,CAACS,IAAR,CAAa,QAAb;AACH,GANM,EAMJC,KANI,CAMEC,KAAK,IAAI;AACdL,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACH,GARM,CAAP;AASH,CAXM;AAaP,OAAO,MAAMC,cAAc,GAAG,CAACd,MAAD,EAASC,KAAT,EAAgBC,OAAhB,KAA4B;AACtD,SAAQC,QAAD,IAAc;AACjBF,IAAAA,KAAK,CAACG,cAAN;AACA,WAAOb,KAAK,CACXc,IADM,CACD,2CADC,EAC4CL,MAD5C,EACoD;AACvDe,MAAAA,OAAO,EAAG;AACN,yBAAkB,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AADnD;AAD6C,KADpD,EAMNX,IANM,CAMCC,QAAD,IAAc;AACjBC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBF,QAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,QAAQ,CAACZ,IAAnC;AACAqB,MAAAA,YAAY,CAACE,OAAb,CAAqB,OAArB,EAA8BX,QAAQ,CAACZ,IAAT,CAAcwB,KAA5C;AAIAX,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBT,MAAvB;AACH,KAdM,EAcJY,KAdI,CAcEQ,GAAG,IAAI;AACZ,aAAOA,GAAP;AACH,KAhBM,CAAP;AAiBH,GAnBD;AAoBH,CArBM","sourcesContent":["import Axios from 'axios';\n\nexport const REGISTER = \"REGISTER\";\nexport const LOGIN = \"REGISTER\";\n\n\nexport const setUserRegister = (data) => {\n    return {\n        type : REGISTER,\n        payload: data,\n    }\n}\n\nexport const setUserLogin = (data) => {\n    return {\n        type: LOGIN,\n        payload: data,\n    }\n}\n\nexport const setRegisterAction = (values, event, history) => (dispatch) =>  {\n    event.preventDefault();\n    return Axios\n    .post('https://server-datani.herokuapp.com/add-user', values)\n    .then((response) => {\n        console.log('data', response)\n        dispatch(setUserRegister(response.data.user))\n        history.push('/login');\n    }).catch(error => {\n        console.log(error);\n    })\n}\n\nexport const setLoginAction = (values, event, history) => {\n    return (dispatch) => {\n        event.preventDefault();\n        return Axios\n        .post('https://server-datani.herokuapp.com/login', values, {\n            headers : {\n                \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`\n            }\n        })\n        .then ((response) => {\n            console.log('response', response)\n            console.log('detail res', response.data)\n            localStorage.setItem(\"token\", response.data.token)\n\n           \n           \n            console.log('success', values)\n        }).catch(err => {\n            return err\n        })\n    }\n}"]},"metadata":{},"sourceType":"module"}